--Create
CREATE OR REPLACE VIEW view_book_with_loan AS
SELECT
    b.book_id,
    b.title,
    b.author,
    b.publisher,
    b.total_count,
    b.category_id,
    b.create_at,

    l.book_loan_detail_id,
    l.user_id,
    m.name AS user_name,         -- 회원 이름
    l.loan_date,
    l.return_date,
    l.due_date,
    l.is_overdue

FROM
    book b
INNER JOIN
    book_loan_detail l
    ON b.book_id = l.book_id
INNER JOIN
    member m
    ON l.user_id = m.user_id;



--
